<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Live Color Picker with Off Lock</title>
</head>
<body>
    <h1>Pick a color</h1>
    <input type="color" id="colorPicker">
    <button id="offButton">Turn Off</button>

    <script>
        let active = true;
        const picker = document.getElementById('colorPicker');
        const offButton = document.getElementById('offButton');

        picker.addEventListener('input', function () {
           const color = picker.value;
            sendColor(color);
        });

        offButton.addEventListener('click', function () {
            const black = "#000000";
            picker.value = black;
            sendColor(black);
        });

        function sendColor(color) {
            fetch('/color', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ color: color })
            })
            .then(res => res.json())
            .then(data => console.log("Server response:", data));
        }
    </script>
</body>
</html>
